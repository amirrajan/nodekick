<!DOCTYPE html>

<html>
  <head>
    <title>nodekick</title>
    <script src="/bower_components/jquery/jquery.js"></script>
    <script src="/bower_components/underscore/underscore.js"></script>
    <script src="/bower_components/pixi/bin/pixi.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/public/app/app.js"></script>
    <script src="/common/gravity.js"></script>
    <script src="/public/app/assets.js"></script>
    <script src="/public/app/playerSprites.js"></script>
    <script src="/public/app/deathAnimations.js"></script>
    <script src="/public/app/drawer.js"></script>
    <script src="/public/app/gameProxy.js"></script>
    <script src="/public/app/gamepad.js"></script>
    <script src="/public/app/ai.js"></script>
    <script src="/public/app/index.js"></script>
  </head>
  <body>
    <div id="stage" style="border: solid 1px silver; width: 1280px">
    </div>
    <% if(ai) { %>
    <div>
      <h3>Bot (enter gist raw enter url to javascript script)</h3>
      <input type="text" id="ai" style="width: 600px" />
      <input type="button" id="loadScript" value="start bot" />
    </div>
    <% } %>
    <div>
      <h3>Instructions for multiplayer fighting game (bring your friends)</h3>
      <ul>
        <li>Press the <strong>up arrow</strong> on your keyboard to <strong>spawn a fighter</strong>.</li>
        <li><strong>While standing</strong>, press the <strong>up arrow</strong> on your keyboard to <strong>to jump</strong>.</li>
        <li><strong>While in the air</strong>, press the <strong>left or right arrow</strong> keys on your keyboard to <strong>attack left and right</strong>.</li>
        <li><strong>While standing</strong>, press the <strong>down arrow</strong> on your keyboard to <strong>jump backwards</strong>.</li>
        <li><strong>While standing</strong>, press the <strong>left or right arrow</strong> keys on your keyboard to <strong>change the direction you are facing</strong>.</li>
      </ul>
    </div>
    <script id="defaultAIScript" type="aiscript">
(function() {
  function tick(you, them) {
    //if you is false, then you are
    //not spawned at this point
    //return up, left or right to spawn
    if(you) {
      return "up";
    }
    //console.log(you);
    //console.log(them);
    //return "left";
    //return "right";
    //return "down";
    //return false;
    return "up";
  }

  app.ai = { };
  app.ai.tick = tick;
})();
    </script>
    <script>
      $(function() {
        $("#ai").val("https://gist.github.com/amirrajan/7609280/raw");
        
        $("#loadScript").click(function() {
          $(".ai").remove();
          var scriptToAppend = $('<script class="ai"><\/script>');
          scriptToAppend.attr('src', $("#ai").val());
          scriptToAppend.appendTo("body");
        });
      });

    </script>
  </body>
</html>
